<!--
|metadata|
{
    "fileName": "igfunnelchart-adding",
    "controlName": "igFunnelChart",
    "tags": ["Charting","Data Presentation"]
}
|metadata|
-->

# Adding igFunnelChart

## Topic Overview

### Purpose

This topic demonstrates how to add the `igFunnelChart`™ control to an HTML page and bind it to data.

### Required background

The following table lists the concepts and topics required as a prerequisite to understanding this topic.

- Concepts
	-   jQuery, jQuery UI
	-   ASP.NET MVC
-   Topics
	-   [Using JavaScript Resouces in %%ProductName%%](Deployment-Guide-JavaScript-Resources.html): This topic provides general guidance on adding required JavaScript resources to use controls from the %%ProductName%%® library.
	-   [*igFunnelChart* Overview](igFunnelChart-Overview.html): This topic provides conceptual information about the `igFunnelChart` control including its main features, minimum requirements, and user functionality.



### In this topic

This topic contains the following sections:

-   [**Adding *igFunnelChart* to an HTML Page – Conceptual Overview**](#overview)
    -   [Requirements](#requirements)
-   [**Adding an *igFunnelChart* to an HTML Page in JavaScript**](#javascript)
    -   [Introduction](#javascript-introduction)
    -   [Preview](#javascript-preview)
    -   [Overview](#javascript-overview)
    -   [Steps](#javascript-steps)
-   [**Adding an *igFunnelChart* to an HTML Page in ASP.NET MVC**](#asp-net-mvc)
    -   [Introduction](#asp-net-mvc-introduction)
    -   [Preview](#asp-net-mvc-preview)
    -   [Requirements](#asp-net-mvc-requirements)
    -   [Overview](#asp-net-mvc-overview)
    -   [Steps](#asp-net-mvc-steps)
-   [**Related Content**](#related-content)
    -   [Topics](#topics)
    -   [Samples](#samples)



## <a id="overview"></a> Adding *igFunnelChart* to an HTML Page – Conceptual Overview

When adding the `igFunnelChart` to an HTML page, you need to provide a pre-configured data source instance or specify the required options so that one could be created internally. For more details about possible data sources, see the [**Bind to Data**](igFunnelChart-Binding-to-Data.html) topic.

The data source is specified through the [`dataSource`](%%jQueryApiUrl%%/ui.igfunnelchart#options:dataSource) property of the `igFunnelChart`. The data source and height settings are the only mandatory options to set when initializing the `igFunnelChart`.

### <a id="requirements"></a> Requirements

Adding the `igFunnelChart` control to an HTML page requires referencing the resources listed below. These resources are required for both JavaScript and ASP.NET MVC. (The JavaScript-specific and MVC-specific requirements are listed in the respective sections, [**Adding an igFunnelChart to an HTML Page in JavaScript**](#javascript) and [**Adding an igFunnelChart to an HTML Page in ASP.NET MVC**](#asp-net-mvc).)

<table class="table">
	<tbody>
		<tr>
			<th>
				Requirement
			</th>

			<th>
				Description
			</th>
		</tr>

		<tr>
			<td>
				HTML5 canvas API
			</td>

			<td>
				The functionality of the charting library is based on the HTML5 Canvas tag and its related API. Any web browser that supports these will be able to render and display charts generated by the igFunnelChart control. No other HTML5 features are required for the operation of the igFunnelChart control. For details about which versions of the most popular desktop and mobile web browsers support the HTML5 Canvas API, refer to <a href="http://www.w3schools.com/html/html5_canvas.asp" target="_blank">Canvas Element</a>.
			</td>
		</tr>

		<tr>
			<td>
				jQuery and jQuery UI JavaScript resources
			</td>

			<td>
				%%ProductName%% is built on top of these frameworks:

				<ul>
					<li><a class="ig-topic-link" href="http://jquery.com/" target="_blank">jQuery</a></li>

					<li><a class="ig-topic-link" href="http://jqueryui.com/" target="_blank">jQuery UI</a></li>
				</ul>
			</td>
		</tr>

		<tr>
			<td>
				Modernizr
			</td>

			<td>
				The <a href="http://modernizr.com/" target="_blank">Modernizr</a> library is used by the igFunnelChart to detect browser and device capabilities. It is not mandatory and if not included the control will behave as if it works in a normal desktop environment with HTML5 compatible browser.

				<ul>
					<li><a class="ig-topic-link" href="http://modernizr.com/" target="_blank">Modernizr</a></li>
				</ul>
			</td>
		</tr>

		<tr>
			<td>
				Charting JavaScript resources
			</td>

			<td>
				The charting functionality of the %%ProductName%% library is distributed across several files depending on the series type. Also, there is a separate funnel chart JavaScript file which must be linked to you HTML or MVC views.

				In case you wish to include resources manually, you need to use the dependencies listed in the following table.

				<table class="table">
					<tbody>
						<tr>
							<th>
								JS Resource
							</th>

							<th>
								Description
							</th>
						</tr>

						<tr>
							<td>
								infragistics.util.js
								infragistics.util.jquery.js
							</td>

							<td>
								%%ProductName%% utilities
							</td>
						</tr>

						<tr>
							<td>
								infragistics.datasource.js
							</td>

							<td>
								The `igDataSource`™ control
							</td>
						</tr>

						<tr>
							<td>
								infragistics.templating.js
							</td>

							<td>
								%%ProductName%% templating engine
							</td>
						</tr>

						
						<tr>
							<td>
								infragistics.ui.widget.js
                            </td>
							<td>
								Base igWidget for all Ignite UI widgets.
							</td>
						</tr>

						<tr>
							<td>
								infragistics.ext_core.js,<br>
								infragistics.ext_collections.js,<br>
								infragistics.ext_ui.js,<br>
								infragistics.dv_jquerydom.js,<br>
								infragistics.dv_core.js,<br>
								infragistics.dv_geometry.js
							</td>

							<td>
								Core data visualization logic
							</td>
						</tr>

						<tr>
							<td>
								infragistics.datachart_core.js
							</td>

							<td>
								Core visualization logic for all chart widgets
							</td>
						</tr>

						<tr>
							<td>
								infragistics.dvcommonwidget.js
							</td>

							<td>
								Common UI code for data visualization widgets
							</td>
						</tr>

						
						<tr>
							<td>
								infragistics.dv_interactivity.js
                            </td>
							<td>
								Provides support for user interaction such as panning, zooming, dragging, etc.
							</td>
						</tr>

						<tr>
							<td>
								infragistics.ui.basechart.js
							</td>

							<td>
								Common UI code for chart widgets
							</td>
						</tr>

						<tr>
							<td>
								infragistics.funnelchart.js
							</td>

							<td>
								Funnel chart helper code
							</td>
						</tr>

						<tr>
							<td>
								infragistics.ui.funnelchart.js
							</td>

							<td>
								The `igFunnelChart` control
							</td>
						</tr>

						<tr>
							<td>
								infragistics.legend.js
							</td>

							<td>
								Common code for visualizing chart legends
							</td>
						</tr>

						<tr>
							<td>
								infragistics.ui.chartlegend.js
							</td>

							<td>
								The `igChartLegend` control used by all chart controls in %%ProductName%%
							</td>
						</tr>
					</tbody>
				</table><br>
			</td>
		</tr>

		<tr>
			<td>
				IG theme
			</td>

			<td>
				This theme contains custom visual styles created for the %%ProductName%% library. It is contained in the following file:<br />*&lt;IG CSS root&gt;/themes/Infragistics/infragistics.theme.css*
			</td>
		</tr>

		<tr>
			<td>
				Chart structure
			</td>

			<td>
				This CSS resource is used by the charting components for rendering different elements of the controls:<br />*&lt;IG CSS root&gt;/structure/modules/infragistics.ui.chart.css*
			</td>
		</tr>
	</tbody>
</table>


> **Note:** It is recommended to use the `igLoader` component to load JavaScript and CSS resources. For information on how to do it, refer to the [**Using Infragistics Loader**](Using-Infragistics-Loader.html) topic. In addition to that, in the online %%ProductName%% [Samples Browser](%%SamplesUrl%%), you can find some specific examples on how to use the `igLoader` with the `igFunnelChart` component.



## <a id="javascript"></a> Adding an *igFunnelChart* to an HTML Page in JavaScript

### <a id="javascript-introduction"></a> Introduction

This procedure guides you through the steps for adding a funnel chart with basic functionality to a web page. The example shows a pure HTML/JavaScript implementation. It includes proper Loader configuration for loading all %%ProductName%% resources needed by the `igFunnelChart` control.

The procedure instantiates and configures a 325x450-pixel funnel chart with default sort order (highest value on top), weighted slices and straight side lines representing the budget of the departments of a company. The data is supplied to the `igFunnelChart` control in the form of a JSON array (configured, too, in the procedure). In addition to that basic tuning, the paths, and the visual state of `igFunnelChart`’s labels are configured in order to have descriptive information about the data that is shown.

### <a id="javascript-preview"></a> Preview

The following screenshot is a preview of the result.

![](images/Adding_igFunnelChart_%28Walkthrough%29_1.png)

### <a id="javascript-overview"></a> Overview

Following is a conceptual overview of the process:

[1. Adding Infragistics Loader](#js-step-loader)

[2. Adding the data source](#js-step-loader-data)

[3. Instantiating *igFunnelChart*](#js-step-init)

[4. (Optional) Verifying the result](#js-step-verify)

### <a id="javascript-steps"></a> Steps

The following steps demonstrate how to add a basic funnel chart control to a web page.

1. **Add Infragistics Loader.**  <a id="js-step-loader"></a>
	1. Add a reference to the *igLoader* script file.

		The following is an example `<script>` tag for loading the `igLoader` script to your page.
		
		**In HTML:**
		
		```html
		<script src="/Scripts/ig/js/infragistics.loader.js"></script>
		```

	2. Add the *igLoader* configuration for *igFunnelChart*.
		
		Add the following code to a `<script>` element on your page.
		
		**In JavaScript:**
		
		```js
		$.ig.loader({
	        scriptPath: "/Script/ig/",
	        cssPath: "/Content/ig/",
	        resources: "igFunnelChart,igChartLegend"
	    });
		```

2. **Add the data source.**  <a id="js-step-loader-data"></a>

	As a data source, add a JavaScript array in a `<script>` element on your page.
	
	**In JavaScript:**
	
	```js
	var data = [
        { Budget: 30, Department: "Administration" },
        { Budget: 50, Department: "Sales" },
        { Budget: 60, Department: "IT" },
        { Budget: 50, Department: "Marketing" },
        { Budget: 100, Department: "Development" },
        { Budget: 20, Department: "Support" }
    ];
	```

3. **Instantiate *igFunnelChart.***  <a id="js-step-init"></a>

	1. Adding an HTML element to the funnel chart.
	
		Add an HTML `<div>` element which will host the funnel chart on your HTML page.
		
		**In HTML:**
		
		```html
		<div id="funnel"></div>
		```

	2. Instantiating the *igFunnelChart*.
		
		Add the following initialization code to a `<script>` element in your page.
		
		**In JavaScript:**
		
		```js
		$.ig.loader(function () {
	        //  Create a basic funnel chart
	        $("#funnel").igFunnelChart({
	            width: "325px",
	            height: "450px",
	            dataSource: data,
	            valueMemberPath: "Budget",
	            innerLabelMemberPath: "Budget",
	            innerLabelVisibility: "visible",
	            outerLabelMemberPath: "Department",
	            outerLabelVisibility: "visible"
	        });
	    });
		```
	
		The code above creates a funnel chart in the `<div>` element added earlier.
		
		The [`width`](%%jQueryApiUrl%%/ui.igfunnelchart#options:width) and [`height`](%%jQueryApiUrl%%/ui.igfunnelchart#options:height) options are assigned with the size of the chart on the page and their values can be specified in any unit of measure available in CSS.
		
		Assign the object that provides data to the chart to the [`dataSource`](%%jQueryApiUrl%%/ui.igfunnelchart#options:dataSource) option. The [`valueMemberPath`](%%jQueryApiUrl%%/ui.igfunnelchart#options:valueMemberPath) option is set with the name of the field in the data source containing the data to be visualized. The [`innerLabelMemberPath`](%%jQueryApiUrl%%/ui.igfunnelchart#options:innerLabelMemberPath) and [`outerLabelMemberPath`](%%jQueryApiUrl%%/ui.igfunnelchart#options:outerLabelMemberPath) options are set with the names of the fields in the data source containing labels or names to be displayed for every slice.
		
		The [`innerLabelVisibility`](%%jQueryApiUrl%%/ui.igfunnelchart#options:innerLabelVisibility) and [`outerLabelVisibility`](%%jQueryApiUrl%%/ui.igfunnelchart#options:outerLabelVisibility) options determine whether inner and outer labels are displayed. The inner label is the text displayed inside a slice and outer label is the text displayed to left or right of the slice.

4. **(Optional) Verify the result**.  <a id="js-step-verify"></a>

	To verify the result, save the page and view the result in a web browser. If you have done the steps correctly, the map will look like the one shown in the [Preview](#javascript-preview).





## <a id="asp-net-mvc"></a> Adding an *igFunnelChart* to an HTML Page in ASP.NET MVC

### <a id="asp-net-mvc-introduction"></a> Introduction

This procedure guides you through the steps for adding a funnel chart with basic functionality to an ASP.NET MVC View.

The procedure instantiates and configures a 325x450-pixel funnel chart
with default sort order (highest value on top), weighted slices and
straight side lines representing the budget of the departments of a
company. The data is supplied to the `igFunnelChart` control in the form
of a JSON array (configured, too, in the procedure). In addition to that
basic tuning, the paths, and the visual state of `igFunnelChart`’s
labels are configured in order to have descriptive information about the
data that is shown.

The example uses the ASP.NET MVC syntax together with the required Loader configuration, binding to a data model object passed by a controller action method and setting essential options for the operation of the control to accomplish this.

The way to supply data for an ASP.NET MVC View is through a controller method using an appropriate data model definition. The model represents an entry from the budget of a company having a decimal field for the Budget of the specified Department.

The example is shown in the context of the budget an imaginary company.

### <a id="asp-net-mvc-preview"></a> Preview

The following screenshot is a preview of the final result.

![](images/Adding_igFunnelChart_%28Walkthrough%29_1.png)

### <a id="asp-net-mvc-requirements"></a> Requirements

Following are the general requirements for adding an `igFunnelChart` to an HTML page in ASP.NET MVC:

-   The Infragistics MVC helpers assembly *Infragistics.Web.Mvc.dll* which contains the MVC helper for `igFunnelChart`.

### <a id="asp-net-mvc-overview"></a> Overview

Following is a conceptual overview of the process:

- [1. Adding the data model](#mvc-step-model)
- [2. Adding the controller action method](#mvc-step-action)
- [3. Adding a strongly typed ASP.NET MVC View](#mvc-step-view)
- [4. Adding Infragistics Loader](#mvc-step-loader)
- [5. Instantiating *igFunnelChart*](#mvc-step-init)
- [6. (Optional) Verifying the result](#mvc-step-verify)

#### <a id="asp-net-mvc-steps"></a> Steps

The following steps demonstrate how to add a basic funnel chart control to an ASP.NET MVC application.

1. **Add the data model**.  <a id="mvc-step-model"></a>

	The following code illustrates the data model part.
	
	1.  **Navigate to your ASP.NET MVC application’s *Models* folder.**
	2.  **Add a new empty class and name it `BudgetData`.**
	3.  **Add the following code, which represents an entry from the budget of a company having a decimal field for the `Budget` of the specified `Department`**:
	
	**In C#:**
	
		```csharp
		public class BudgetData
	    {

	        public decimal Budget { get; set; }
	        public string Department { get; set; }

	    }
		```

2. **Add the controller action method.**  <a id="mvc-step-action"></a>

	**Add an empty controller class in the Controllers folder of your ASP.NET MVC application.**
	
	The controller action initializes a list of `BudgetData` objects with data provided by either a database or an external data service in your application. Then the controller invokes the default View for the controller with the data.
	
	**In C#:**
	
	```csharp
	public ActionResult Index()
    {
        var data = new List<BudgetData>()
        {
            new BudgetData { Budget = 30, Department = "Administration" },
            new BudgetData { Budget = 50, Department = "Sales" },
            new BudgetData { Budget = 60, Department = "IT" },
            new BudgetData { Budget = 50, Department = "Marketing" },
            new BudgetData { Budget = 100, Department = "Development" },
            new BudgetData { Budget = 20, Department = "Support" }
        };
        return View(data.AsQueryable());
    }
	```

3. **Add a strongly typed ASP.NET MVC View.**  <a id="mvc-step-view"></a>

	To add and configure the View:
	
	​1. Create the View corresponding to the controller action method.
	
	​2. Make the View strongly-typed and point to the data model class created above in step 3.1.
	
	**In ASPX:**
	
	```csharp
	@model IQueryable<MvcApp.Models.BudgetData>
	```

4. **Add Infragistics Loader.**  <a id="mvc-step-loader"></a>
	1. Add a reference to the `igLoader` script file.
	
		The following an example `<script>` tag for loading the igLoader script to your page.
		
		**In HTML:**
		
		```html
		<script src="/Scripts/ig/js/infragistics.loader.js"></script>
		```
		
	2. Add the `igLoader`’s MVC helper configuration for `igFunnelChart`.
	
		The following code, added to the ASP.NET MVC View, configures the `igLoader`’s wrapper with the paths to the %%ProductName%% resources.
		
		**In ASPX:**
		
		```csharp
		@(Html.Infragistics()
	        .Loader()
	        .ScriptPath("http://localhost/ig_ui/js/")
	        .CssPath("http://localhost/ig_ui/css/")
	        .Render()
	    )
		```

5. **Instantiate *igFunnelChart*.**  <a id="mvc-step-init"></a>
	
	The code below configures the MVC helper to create a `<div>` element with `id` “funnel” where the funnel chart is to be hosted with the [`ID(“funnel”)`](Infragistics.Web.Mvc~Infragistics.Web.Mvc.FunnelChart`1~ID.html) call and assigns the data model object declared for the View to the control in the [`FunnelChart(Model)`](Infragistics.Web.Mvc~Infragistics.Web.Mvc.FunnelChart`1.html) call. The member of the model which provides the value for every slice is referenced in the [`ValueMemberPath("Budget")`](Infragistics.Web.Mvc~Infragistics.Web.Mvc.FunnelChart`1~ValueMemberPath.html) calls.
	
	**In ASPX:**
	
	```csharp
	@(Html.Infragistics().FunnelChart(Model)
		.ID("funnel")
		.Height("450px")
		.Width("325px")
		.ValueMemberPath("Budget")
		.InnerLabelMemberPath("Budget")
		.OuterLabelMemberPath("Department")
		.InnerLabelVisibility(Visibility.Visible)
		.OuterLabelVisibility(Visibility.Visible)
		.DataBind()
		.Render()
	)
	```
	
	The [`Width()`](Infragistics.Web.Mvc~Infragistics.Web.Mvc.FunnelChart`1~Width.html) and [`Height()`](Infragistics.Web.Mvc~Infragistics.Web.Mvc.FunnelChart`1~Height.html) calls specify the size of the chart on the page and their values can be specified in any unit of measure available in CSS.
	
	The [`InnerLabelMemberPath()`](Infragistics.Web.Mvc~Infragistics.Web.Mvc.FunnelChart`1~InnerLabelMemberPath.html) and [`OuterLabelMemberPath()`](Infragistics.Web.Mvc~Infragistics.Web.Mvc.FunnelChart`1~OuterLabelMemberPath.html) calls configure the names of the fields in the data source which contain labels or names to render for every slice.
	
	The [`InnerLabelVisibility()`](Infragistics.Web.Mvc~Infragistics.Web.Mvc.FunnelChart`1~InnerLabelVisibility.html)
	and [`OuterLabelVisibility()`](Infragistics.Web.Mvc~Infragistics.Web.Mvc.FunnelChart`1~OuterLabelVisibility.html) calls determine whether inner and outer labels render. Inner label is the text displayed inside a slice and outer label is the text displayed 	to left or right of the slice.

6. **(Optional) Verifying the result.**  <a id="mvc-step-verify"></a>

	To verify the result, save the page and view the final result in a web browser. If you have done the steps correctly, the map will look like the one shown in the [Preview](#asp-net-mvc-preview).

## <a id="related-content"></a> Related Content

### <a id="topics"></a> Topics

The following topics provide additional information related to this topic.

- [*igFunnelChart* Overview](igFunnelChart-Overview.html): This topic provides conceptual information about the `igFunnelChart` control including its main features, minimum requirements, and user functionality.

- [Binding *igFunnelChart* to Data](igFunnelChart-Binding-to-Data.html): This topic explains how to bind the `igFunnelChart` control to various data sources.

- [Configuring *igFunnelChart*](igFunnelChart-Configuring.html): This topic explains how to configure different visual features and behavior of the `igFunnelChart` control.

- [Styling *igFunnelChart*](igFunnelChart-Styling.html): This topic explains how to customize the look-and-feel of the `igFunnelChart` control.

- [Accessibility Compliance (*igFunnelChart*)](igFunnelChart-Accessibility-Compliance.html): This topic explains the `igFunnelChart` control’s accessibility features and provides advice on how to achieve accessibility compliance for pages containing charts.

- [Known Issues and Limitations (*igFunnelChart*)](igFunnelChart-Known-Issues-and-Limitations.html): This topic lists the known issues related to the `igFunnelChart` control. 
 
- [jQuery and ASP.NET MVC Helper API Links (*igFunnelChart*)](igFunnelChart-jQuery-and-ASP.NET-MVC-Helper-API--Links.html): This topic lists the links to the API reference documentation for the `igFunnelChart` control and its ASP.NET MVC Helper.

### <a id="samples"></a> Samples

The following samples provide additional information related to this topic.

- [Funnel Chart](%%SamplesUrl%%/funnel-chart/funnel-chart): This sample demonstrates using the Funnel Chart control to render data as slices from the largest value to the smallest value with the capability to invert the positions of the slices.




 

 


